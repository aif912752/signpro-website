function toggleMenu(){const h=document.getElementById('hamburger'),d=document.getElementById('mobileDrawer'),o=document.getElementById('mobileOverlay');h.classList.toggle('open'),d.classList.toggle('open'),o.classList.toggle('open')}function closeMenu(){document.getElementById('hamburger').classList.remove('open'),document.getElementById('mobileDrawer').classList.remove('open'),document.getElementById('mobileOverlay').classList.remove('open')}const cur=document.getElementById('cursor'),ring=document.getElementById('cursorRing');let mx=0,my=0,rx=0,ry=0;document.addEventListener('mousemove',e=>{mx=e.clientX,my=e.clientY,cur.style.left=mx+'px',cur.style.top=my+'px'}),function(){rx+=(mx-rx)*.1,ry+=(my-ry)*.1,ring.style.left=rx+'px',ring.style.top=ry+'px',requestAnimationFrame(arguments.callee)}();let currentPage='home';function navigate(page){document.querySelectorAll('.page').forEach(p=>p.classList.remove('active')),document.getElementById('page-'+page).classList.add('active'),document.querySelectorAll('.nav-links a, .mobile-nav-links a').forEach(a=>{a.classList.toggle('active',a.dataset.page===page)}),currentPage=page,window.scrollTo({top:0,behavior:'instant'}),initReveal(),initCounters()}window.addEventListener('scroll',()=>{document.getElementById('navbar').classList.toggle('scrolled',window.scrollY>50)});function initReveal(){const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{e.isIntersecting&&e.target.classList.add('visible')})},{threshold:.1});document.querySelectorAll('#page-'+currentPage+' .reveal').forEach(el=>{el.classList.remove('visible'),obs.observe(el)})}setTimeout(initReveal,100);function countUp(el){if(el.dataset.counted)return;el.dataset.counted='1';const target=parseInt(el.dataset.target);let cur=0;const step=Math.ceil(target/60),t=setInterval(()=>{cur=Math.min(cur+step,target),el.textContent=cur+(cur===target?'+':''),cur>=target&&clearInterval(t)},20)}function initCounters(){const obs=new IntersectionObserver(entries=>{entries.forEach(e=>{e.isIntersecting&&countUp(e.target)})},{threshold:.5});document.querySelectorAll('[data-target]').forEach(el=>{el.removeAttribute('data-counted'),obs.observe(el)})}initCounters();document.addEventListener('click',e=>{const btn=e.target.closest('.faq-btn,.faq-q');if(!btn)return;const item=btn.parentElement,ans=item.querySelector('.faq-ans, .faq-a'),open=item.classList.contains('open');item.closest('.faq-cols,.faq-wrap')?.querySelectorAll('.faq-item.open').forEach(i=>{i.classList.remove('open');const a=i.querySelector('.faq-ans,.faq-a');a&&(a.style.maxHeight='0')}),open||(item.classList.add('open'),ans&&(ans.style.maxHeight=ans.scrollHeight+'px'))});function handleSubmit(){const btn=document.getElementById('submitBtn');btn.textContent='ส่งสำเร็จแล้ว! เราจะติดต่อกลับเร็วๆ นี้ ✓',btn.style.background='#22c55e',btn.disabled=!0}